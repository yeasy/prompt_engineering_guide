# 第十二章：自动化提示词工程

## 12.3 评估体系与质量度量

系统化的评估是提示词工程质量保障的基础。

### 评估维度

| 维度 | 指标示例 | 评估方法 |
|------|----------|----------|
| 准确性 | 正确率、F1分数 | 与标准答案对比 |
| 相关性 | 相关度评分 | 人工评估/模型评估 |
| 流畅度 | 语言质量 | 语法检查/人工评估 |
| 一致性 | 输出稳定性 | 多次运行对比 |
| 效率 | Token消耗、延迟 | 系统监控 |

### 评估方法

#### 自动评估

```python
def evaluate_prompt(prompt, test_cases):
    results = []
    for case in test_cases:
        output = call_llm(prompt.format(**case.input))
        score = compute_metrics(output, case.expected)
        results.append(score)
    return aggregate(results)
```

#### LLM-as-Judge

使用模型来评估输出质量：

```
请评估以下回答的质量（1-10分）：

问题：{question}
回答：{answer}

评估维度：
1. 准确性
2. 完整性
3. 清晰度
```

### 评估最佳实践

- 建立代表性测试集
- 多维度综合评估
- 自动与人工评估结合
- 持续监控生产表现

### 小结

完善的评估体系包括多维度指标、自动化测试和持续监控，是保障提示词质量的关键。

### 延伸阅读

- [Automatic Prompt Engineer](https://arxiv.org/abs/2211.01910) - APE 论文
- [PromptLayer](https://promptlayer.com/) - 提示词管理平台
