# 第三章：提示词的基本结构

## 3.2 指令设计的基本原则

指令是提示词的核心部分，决定了模型需要执行什么任务。一个设计良好的指令可以显著提升模型输出的质量和一致性。本节将介绍指令设计的基本原则和实用技巧。

### 原则一：清晰明确

清晰的指令是有效提示词的基础。模型不会"猜测"用户的真实意图，它只会按照字面意义理解和执行指令。

#### 避免模糊表达

```
❌ 模糊指令：
帮我改进一下这段文字。

✓ 明确指令：
请改写以下段落，使其更加简洁，同时保持原意，并确保语法正确。目标字数：减少20%。
```

#### 具体化任务目标

```
❌ 宽泛目标：
写一篇关于人工智能的文章。

✓ 具体目标：
撰写一篇 800 字的科普文章，向普通读者介绍什么是大语言模型、
它的工作原理以及日常生活中的应用场景。
```

#### 明确边界和范围

```
请总结这篇论文的主要贡献，只关注方法论创新部分，
不需要涉及实验细节和相关工作回顾。输出 3-5 个要点。
```

### 原则二：具体细致

越具体的指令，输出越可控。细节决定了输出的质量和可用性。

#### 指定数量和范围

```
❌ 无数量约束：
列出一些建议。

✓ 明确数量：
列出 5 条具体可行的改进建议，每条建议包含：
1. 具体措施（一句话）
2. 预期效果（一句话）
3. 实施难度（高/中/低）
```

#### 定义质量标准

```
请撰写产品描述文案，需满足：
- 情感诉求：激发好奇心和信任感
- 语言风格：专业但不生硬，亲切但不随意
- 必须包含：核心功能、差异化优势、适用人群
- 禁止使用："最好"、"第一"等绝对化用语
```

#### 分解复杂任务

将复杂任务拆解为明确的步骤：

```
请按以下步骤分析这段代码：

第一步：识别代码的主要功能
第二步：列出所有外部依赖
第三步：指出潜在的性能瓶颈
第四步：提供优化建议
第五步：给出优化后的代码示例

每个步骤单独输出，用 ## 标题分隔。
```

### 原则三：使用行动导向的语言

以明确的动词开始指令，告诉模型需要执行什么操作。

#### 常用指令动词

| 动词类别 | 示例 | 适用场景 |
|----------|------|----------|
| **生成类** | 写、创建、生成、设计 | 内容创作 |
| **分析类** | 分析、评估、比较、诊断 | 数据和问题分析 |
| **转换类** | 翻译、转换、改写、简化 | 格式或风格转换 |
| **提取类** | 提取、总结、归纳、识别 | 信息抽取 |
| **组织类** | 分类、排序、整理、结构化 | 信息组织 |
| **解释类** | 解释、说明、阐述、定义 | 知识讲解 |

#### 动词使用示例

```
分析：分析这封客户投诉邮件的核心诉求和情绪倾向。

比较：比较 React 和 Vue 这两个前端框架的优缺点。

转换：将这段技术文档转换为面向产品用户的帮助指南。

提取：从这份合同中提取所有涉及金额的条款。
```

### 原则四：逻辑顺序

按照合理的逻辑顺序组织指令，帮助模型理解任务流程。

#### 常见的逻辑结构

**时间序列**：
```
1. 首先，阅读并理解用户需求
2. 然后，分析现有方案的优缺点
3. 接着，提出改进方案
4. 最后，总结实施步骤
```

**层次结构**：
```
请分析这个业务问题：
- 宏观层面：行业趋势和市场环境
- 中观层面：竞争格局和公司定位
- 微观层面：具体产品和用户反馈
```

**优先级结构**：
```
评估这个方案，按重要性排序关注：
1. 安全风险（最高优先级）
2. 性能影响
3. 开发成本
4. 用户体验
```

### 原则五：正向表达

告诉模型"应该做什么"比"不要做什么"更有效。

#### 正向表达的优势

模型更容易理解和遵循正向指令，否定指令可能导致理解偏差。

```
❌ 负向指令：
不要使用复杂的专业术语。
不要写太长。
不要跑题。

✓ 正向指令：
使用通俗易懂的日常语言。
控制篇幅在 200 字以内。
始终围绕产品的核心功能展开。
```

#### 补充否定约束

在必要时，可以将正向指令和否定约束结合使用：

```
请撰写新闻稿：
- 使用客观中立的语气（正向）
- 基于提供的事实进行报道（正向）
- 避免使用夸张或情绪化的形容词（否定，作为补充）
```

### 原则六：考虑边界情况

预先考虑可能的边界情况和异常场景，在指令中给出处理方式。

#### 处理不确定性

```
分析用户反馈数据。
如果某个类别的样本量少于 5 条，请标注为"样本不足，结论供参考"。
如果反馈内容无法明确分类，请归入"其他"类别并说明原因。
```

#### 处理缺失信息

```
根据提供的信息回答问题。
如果必要信息缺失导致无法给出确定答案，请明确说明需要哪些额外信息。
不要猜测或编造缺失的信息。
```

#### 处理多种可能

```
分析这段代码的 Bug。
如果存在多种可能的原因，请列出所有可能性，并按可能性从高到低排序。
如果代码没有明显问题，请说明"未发现明显Bug"并提供代码质量评估。
```

### 原则七：迭代优化

指令设计是一个迭代过程，基于实际输出不断优化。

#### 迭代流程

```
初始指令 → 测试输出 → 识别问题 → 调整指令 → 再次测试 → ...
```

#### 常见优化方向

**输出太简短**：
```
添加：请详细展开，每个要点至少用2-3句话说明。
```

**输出太冗长**：
```
添加：保持简洁，直接给出关键信息，总字数不超过 300 字。
```

**格式不一致**：
```
添加：严格按照提供的模板格式输出。
```

**遗漏关键点**：
```
添加：必须涵盖以下方面：[具体列表]
```

### 实战示例：指令优化过程

**任务**：为一款新的健康App撰写应用商店描述

**版本1：初始指令**
```
写一个App描述。
```
问题：太模糊，缺乏关键信息

**版本2：添加基本信息**
```
为一款健康追踪App写应用商店描述。
```
问题：仍不够具体

**版本3：增加细节和约束**
```
为一款健康追踪App「HealthyMe」撰写应用商店描述：
- 核心功能：步数追踪、睡眠监测、饮食记录
- 字数：150-200字
- 包含：功能亮点、适用人群、独特卖点
```
问题：输出还行，但风格不够吸引人

**版本4：添加风格和格式**
```
为健康追踪App「HealthyMe」撰写应用商店描述：

功能：
- 步数追踪（GPS精准记录）
- 睡眠监测（智能分析睡眠质量）
- 饮食记录（扫码快速录入）

目标用户：25-40岁注重健康的都市白领

写作要求：
1. 开头用一个吸引眼球的短句
2. 用三个emoji图标分隔功能介绍
3. 结尾设置行动号召语
4. 总字数150-200字
5. 语气亲切积极，激发下载欲望
```

### 小结

设计有效的指令需要遵循七个基本原则：清晰明确、具体细致、行动导向、逻辑顺序、正向表达、边界考虑和迭代优化。这些原则相互补充，共同帮助构建能够产出高质量输出的指令。实践中，应根据任务特点灵活运用这些原则，并通过不断测试和优化来提升效果。

### 延伸阅读

- [Tactic: Include Details](https://platform.openai.com/docs/guides/prompt-engineering#tactic-include-details-in-your-query-to-get-more-relevant-answers) - OpenAI 具体化指令技巧
- [Give Claude a Role](https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/give-claude-a-role) - Anthropic 角色设定指南
