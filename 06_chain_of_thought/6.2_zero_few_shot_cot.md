## 6.2 零样本与少样本思维链

思维链提示可以分为零样本和少样本两种形式。两者各有特点和适用场景，本节将详细介绍它们的方法和应用。

### 6.2.1 零样本思维链

零样本思维链不需要提供推理示例，仅通过简单的触发语句即可激发模型的推理能力。

#### 核心方法

最著名的零样本CoT触发语是：

```
Let's think step by step.
```

或中文版本：

```
让我们一步一步思考。
```

#### 使用示例

```
问题：一个农场有24只鸡和12只鸭。农场主又买了6只鸡和卖出4只鸭。
现在农场总共有多少只家禽？

让我们一步一步思考：
```

模型会自动生成推理步骤并得出答案。

#### 常用触发语变体

```
基础版：
- "Let's think step by step."
- "让我们逐步分析。"

详细版：
- "让我们仔细思考这个问题，一步一步来。"
- "请先推理后回答，并用不超过 5 条要点列出关键步骤/核对点。"

引导版：
- "解决这个问题需要几个步骤，让我们依次进行。"
- "首先，让我们理解问题......"
```

#### 零样本CoT的优势

- **简单易用**：只需添加一句话
- **Token高效**：不需要长篇示例
- **通用性强**：适用于各种推理任务
- **模型无关**：无需针对特定任务设计示例

### 6.2.2 少样本思维链

少样本思维链通过提供包含完整推理过程的示例，引导模型学习推理模式。

#### 基本结构

```
示例1：
问题：[问题1]
推理：
[详细的推理步骤]
答案：[答案1]

示例2：
问题：[问题2]
推理：
[详细的推理步骤]
答案：[答案2]

请解答：
问题：[新问题]
推理：
```

#### 完整示例

```
请按照示例的方式解答数学问题。

示例1：
问题：小明有5个苹果，小红给了他3个，他又吃了2个。小明现在有几个苹果？
推理：
1. 初始：小明有5个苹果
2. 小红给了3个：5 + 3 = 8个
3. 吃了2个：8 - 2 = 6个
答案：6个苹果

示例2：
问题：商店有30件玩具，上午卖出12件，下午又进货8件。商店现在有多少件玩具？
推理：
1. 初始：商店有30件玩具
2. 上午卖出12件：30 - 12 = 18件
3. 下午进货8件：18 + 8 = 26件
答案：26件玩具

请解答：
问题：图书馆有120本书，借出去35本，新购入20本。图书馆现在有多少本书？
推理：
```

### 6.2.3 零样本与少样本对比

```
维度              零样本CoT          少样本CoT
─────────────────────────────────────────────────
使用复杂度        简单              需要设计示例
Token消耗         低                较高
推理格式控制      较弱              较强
错误示范风险      无                有可能
适用场景          通用推理          特定领域任务
```

### 6.2.4 选择策略

#### 选择零样本CoT的情况

```
✓ 快速原型验证
✓ 上下文窗口紧张
✓ 标准的数学/逻辑推理
✓ 对推理格式要求不严格
```

#### 选择少样本CoT的情况

```
✓ 需要特定的推理格式
✓ 非标准的推理任务
✓ 需要展示领域特定的推理步骤
✓ 准确性要求高
```

### 6.2.5 少样本CoT的示例设计

#### 推理步骤清晰

每个步骤应该清晰独立，有明确的输入和输出：

```
✓ 清晰的步骤：
步骤1：提取已知条件 → 速度=60km/h，时间=2小时
步骤2：应用公式 → 距离=速度×时间
步骤3：计算结果 → 距离=60×2=120km

✗ 模糊的步骤：
考虑了各种因素后，答案大概是120km
```

#### 覆盖典型推理模式

示例应该覆盖任务中常见的推理模式：

```
算术推理示例：展示基本加减乘除的应用
逻辑推理示例：展示条件判断和推导
多步骤示例：展示如何组合多个步骤
```

#### 展示错误处理

有时可以包含如何处理特殊情况的示例：

```
问题：计算 10 ÷ 0 的结果。
推理：
1. 这是一个除法运算
2. 检查：除数为0
3. 任何数除以0是未定义的
答案：无法计算（除以零未定义）
```

### 6.2.6 增强零样本CoT的技巧

#### 结构化触发

```
请按以下步骤思考：
1. 首先，理解问题要求什么
2. 其次，识别所有已知信息
3. 然后，确定解决问题的方法
4. 接着，逐步执行计算
5. 最后，检验答案并给出结论

问题：[问题描述]
```

#### 角色结合

```
你是一位数学老师，需要向学生展示解题过程。
请详细解释每一步的思路，让学生能够理解和学习。

问题：[问题描述]
```

#### 反思要求

```
问题：[问题描述]

请一步一步思考，得出答案后再检查一遍推理过程是否正确。
```

### 6.2.7 常见问题与解决方案

#### 问题1：推理步骤过于冗长

```
解决方案：
- 在指令中限制步骤数量："用3-5个核心步骤解答"
- 要求简洁推理："给出简洁但完整的推理过程"
```

#### 问题2：推理偏离正轨

```
解决方案：
- 使用结构化框架限定推理方向
- 少样本CoT提供正确的推理模式
- 增加"检验"步骤
```

#### 问题3：最终答案格式不规范

```
解决方案：
在推理要求后添加格式约束：
"推理完成后，请用以下格式给出最终答案：【答案】：..."
```


### 延伸思考

1. "让我们一步步思考"这种零样本思维链为什么对大模型有效？它对小模型是否同样有效？
2. 设计一个少样本思维链提示来解决你工作中的一个推理任务，对比有无推理步骤的输出差异。
